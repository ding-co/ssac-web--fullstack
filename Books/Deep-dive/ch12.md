## [12장 - 함수]

### _함수란?_

- 가장 중요한 핵심 개념
- 일련의 과정을 statement로 구현하고 코드 블록으로 감싸서 <br/>
  하나의 실행 단위로 정의한 것
- parameter, argument, return value
- function call/invoke

### _함수를 사용하는 이유_

- 코드의 재사용
- 유지보수의 편의성
- 코드의 신뢰성
- 코드의 가독성

### _함수 리터럴_

- 함수 리터럴 구성 요소
  - 함수 이름
    - 함수 몸체 내에서만 참조 가능한 식별자
    - named function / annonymous function
  - 매개변수 목록
    - 순서 의미 있음
  - 함수 몸체
    - 코드 블록
- 함수는 객체임, 호출 가능

### _함수 정의_

- 정의된 함수는 JS 엔진에 의해 평가되어 함수 객체가 됨
- 함수 정의 방식
  - 함수 선언문 (선언적 함수); 이름 생략 불가, 표현식 아닌 문
  - 함수 표현식 (함수 리터럴, 익명 함수)
  - Function 생성자 함수
  - 화살표 함수
- JS 엔진은 함수 선언문을 해석해 함수 객체 생성 <br/>
  => JS 엔진은 생성된 함수를 호출하기 위해 함수 이름과 동일한 이름의 식별자를 <br/>
  암묵적으로 생성하고, 거기에 함수 객체를 할당함
- 함수 선언문을 호출할 때 함수 이름으로 호출한 것처럼 보이지만 <br/>
  사실은 JS 엔진에 의해 암묵적으로 만들어진 식별자 (함수 객체 가리킴)로 호출한 것임
- 함수 선언문은 표현식이 아닌 문, 함수 표현식은 표현식인 문
- 함수 생성 시점과 호이스팅
  - 함수 선언문으로 정의한 함수는 함수 선언문 이전에 호출 가능
  - 선언적 함수와 익명 함수는 생성 시점이 다름
  - 함수 호이스팅 (함수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작)
  - 변수 호이스팅 vs. 함수 호이스팅
  - 함수 표현식으로 함수를 정의하면 함수 호이스팅이 아니라 변수 호이스팅이 발생함
  - 함수 표현식으로 정의한 함수는 반드시 함수 표현식 이후에 참조 또는 호출
- Function 생성자 함수
  - 객체를 생성하는 함수
  - 바람직하지 X
- 화살표 함수

### _함수 호출_

- 매개변수와 인수
  - 인수는 값으로 평가될 수 있는 표현식
  - 매개변수의 스코프는 함수 내부
  - arguments 객체
- 인수 확인
  - if typeof
  - 단축 평가
  - 매개변수 기본값 지정
- 매개변수의 최대 개수
  - 매개변수는 순서에 의미가 있음
  - 이상적인 매개변수는 0개 (적을수록 좋음)
  - 이상적인 함수는 한 가지 일만 해야 하고 가급적 작게 만들어야 함
  - 객체를 인수로 사용 <br/>
    but, 함수 외부에서 함수 내부로 전달한 객체를 함수 내부에서 변경시, <br/>
    => side effect 발생
- 반환문
  - 함수 실행 중단하고 몸체 빠져나감
  - return 키워드 뒤에 오는 표현식을 평가해 반환
  - 반환문 생략 시 undefiend 반환
  - 함수 몸체 내부에서만 사용 가능

### _참조에 의한 전달과 외부 상태의 변경_

- 함수를 호출하면서 매개변수에 값을 전달 (call by value)
- call by reference
- 원시 값은 값 자체가 복사되어 원본 훼손 X
- 객체는 참조 값이 복사되어 전달되서 원본이 훼손될 수 있음
- 객체의 변경 추적 (옵저버 패턴)
- 객체를 불변 객체로 만들어 사용 <br/>
  상태 변경 필요 시 객체의 방어적 복사 (깊은 복사)
- 외부 상태를 변경하지 않고 외부 상태에 의존 X 함수 => 순수 함수
- 함수형 프로그래밍 패러다임

### _다양한 함수의 형태_

- 즉시 실행 함수 (IIFE)
  - 단 한번만 호출되는 함수
  - 그룹 연산자 () 로 감쌈
  - 기명/무명 함수를 그룹 연산자로 감싸면 함수 리터럴로 평가 되어 함수 객체가 됨
  - 값을 반환할 수 있고 인자도 전달 가능
  - 변수와 함수 이름 충돌 방지 가능
- 재귀 함수
  - 함수가 자기 자신 호출 (재귀 호출)
  - 팩토리얼
  - 탈출 조건 반드시 명시 <br/>
    (안하면 무한 호출되어 스택 오버플로 에러 발생)
- 중첩 함수
  - 함수 내부에 정의된 함수 (중첩 함수/ 내부 함수)
  - 외부 함수에서만 호출 가능
  - 외부 함수 돕는 헬퍼 함수 역할
  - 스코프, 클로저와 깊은 관련 있음
- 콜백 함수
  - JS의 함수는 일급 객체이므로 함수의 매개변수를 통해 함수 전달 가능
  - 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수 (콜백 함수)
  - 매개변수를 통해 함수 외부에서 콜백 함수 전달 받은 함수 (고차 함수)
  - 고차 함수는 콜백 함수를 자신의 일부분으로 합성
- 순수 함수와 비순수 함수
  - 순수 함수: 외부 상태에 의존하지 않고 오직 매개변수 통해 <br/>
    함수 내부로 전달된 인수에게만 의존해서 반환값 생성
  - 비순수 함수: 함수의 외부 상태에 의존하여 외부 상태에 따라 반환값 달라짐 <br/>
    side effect (부수 효과) 존재
  - 순수 함수 사용 지향

#

## [Note]

- 함수는 객체 타입의 값
- 리터럴은 값을 생성하기 위한 표기법
- 그룹 연산자의 피연산자 => 값으로 평가될 수 있는 표현식
- 일급 객체 (값의 성질을 갖는 객체, 함수를 값처럼 자유롭게 사용 가능)
- 스코프 (유효 범위)
- 함수 호출은 표현식
- Node.js 는 모듈 시스템에 의해 파일별로 독립적인 파일 스코프 가짐 <br/>
  => 파일 가장 바깥 영역에 return 문 사용해도 에러 발생 X

#

[Reference](https://wikibook.co.kr/mjs/)
