## [14장 - 전역 변수의 문제점]

### _변수의 생명 주기_

- 지역 변수의 생명 주기
  - 변수는 Life Cycle이 있음
  - 함수 내부에 선언한 지역 변수는 함수 호출 직후에 JS 엔진에 의해 가장 먼저 실행됨
  - 지역 변수의 생명 주기는 함수의 생명 주기와 일치
  - 변수의 생명 주기는 메모리 공간이 allocate(확보)된 시점부터 메모리 공간이 G.C에 의해 release (해제)되어 <br/>
    가용 메모리 풀에 반환되는 시점까지
  - 호이스팅은 스코프 단위로 동작함
- 전역 변수의 생명 주기
  - var 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티
  - 전역 변수의 생명 주기가 전역 객체의 생명 주기와 일치
  - 브라우저 환경에서의 전역 객체 (window); 웹 페이지 닫기 전까지 유효

### _전역 변수의 문제점_

- 암묵적 결합
  - implicit coupling 허용
- 긴 생명 주기
- 스코프 체인 상에서 종점에 존재
  - 전역 변수의 검색 속도가 가장 느림
- 네임 스페이스 오염
  - 하나의 전역 스코프 공유

### _전역 변수의 사용을 억제하는 방법_

- 즉시 실행 함수

- 네임 스페이스 객체

  - 전역에 네임 스페이스 역할을 담당할 객체 생성 <br/>
    이후 전역 변수처럼 사용하고 싶은 변수를 프로퍼티로 추가

- 모듈 패턴

  - 클래스를 모방해서 관련이 있는 변수, 함수들을 모아 즉시 실행 함수로 감싸서 <br/>
    하나의 모듈로 구현
  - 클로저 기반으로 동작
  - 전역 변수 억제 + 캡슐화 (은닉 기능)

- ES6 모듈
  - script 태그에 type="module" 어트리뷰트 추가 (확장자는 .mjs 권장)

#

## [Note]

- 호이스팅; JS에서 변수나 함수가 스코프의 선두로 끌어 올려진 것처럼 동작
- 변수의 스코프는 좁을수록 좋음 <br/> (전역 변수를 절대 사용하지 말라는 이야기가 아님)
- 무분별한 전역 변수 남발 자제
- 클로저 -> 전역 변수 억제 가능
- 캡슐화; 객체의 상태를 나타내는 프로퍼티와 <br/>
  프로퍼티를 참조하고 조작할 수 있는 동작인 메서드를 하나로 묶는 것,<br/>
  정보 은닉
- JS는 접근 제한자 지정 불가

#

[Reference](https://wikibook.co.kr/mjs/)
