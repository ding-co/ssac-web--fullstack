## [13장 - 스코프]

### _스코프란?_

- 식별자가 유효한 범위
- 모든 식별자 (함수/변수/클래스 이름 등)는 자신이 선언된 위치에 의해 <br/>
  다른 코드가 식별자 자신을 참조할 수 있는 유효범위 결정됨
- identifier resolution (식별자 결정)
- JS 엔진이 식별자를 검색할 때 사용하는 규칙
- 스코프는 네임 스페이스다 (다른 스코프에서 같은 이름의 식별자 사용 가능)

### _스코프의 종류_

- 전역 스코프 / 전역 변수 (어디서든 참조 가능)
- 지역 스코프 / 지역 변수
  - 자신이 선언된 지역과 하위 지역 (중첩 함수)에서만 참조 가능
  - 자신의 지역 스코프와 하위 지역 스코프에서만 유효
- JS 엔진이 스코프 체인을 통해 참조할 변수 검색 가능 (identifier resolution)

### _스코프 체인_

- 상/하위 스코프
- 모든 스코프는 하나의 계층적 구조로 연결됨
- 모든 지역 스코프의 최상위 스코프는 전역 스코프
- JS 엔진은 변수를 참조할 때 스코프 체인을 통해 변수 참조하는 코드 스코프에서 <br/>
  상위 스코프 방향으로 이동하며 선언된 변수를 identifier resoultion
- 물리적인 개념 (렉시컬 환경 생성)
- 실행 컨텍스트의 렉시컬 환경을 단방향으로 연결 (chaining)
- 상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조 가능 <br/>
  하위 스코프에서 유효한 변수를 상위 스코프에서 참조 불가
- 스코프 체인에 의한 함수 검색

### _함수 레벨 스코프_

- var 키워드는 function level scope
- let, const 키워드는 block level scope

### _렉시컬 스코프_

- 동적 스코프; 함수를 어디서 호출했는지에 따라 함수 상위 스코프 결정됨
- 정적 스코프/렉시컬 스코프; 함수 정의가 평가되는 시점에 상위 스코프가 정적으로 결정됨 (JS)
- JS는 정적 스코프(렉시컬 스코프) => 함수의 스코프는 언제나 자신이 정의된 스코프

#

## [Note]

- lexical environment (코드가 어디서 실행되며 주변에 어떤 코드가 있는지 고려하는 환경) <br/>
  => execution context (실행 컨텍스트)
- 식별자는 unique
- var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언 가능

#

[Reference](https://wikibook.co.kr/mjs/)
